{% extends 'core/base.html' %}

{% block title %}Messages{% endblock %}

{% block content %}
<h1 class="mb-6 text-3xl">
    Conversation
</h1>

<div class="space-y-6">
  {% for message in conversation.messages.all %}
    <div class="p-6 flex bg-gray-100 rounded-xl">
      <div>
        <p class="mb-4">
          <strong>{{ message.sender.username }}</strong> @ {{ message.timestamp }}
        </p>
        <p>
          {{ message.message }}
        </p>
      </div>
    </div>
  {% endfor %}
</div>

<!-- Your existing HTML content -->

<script>
  var socket = new WebSocket("ws://localhost:12345/");  // Replace 'localhost' with your server IP
  socket.onmessage = function (event) {
      console.log("Received message from server:", event.data);
      // Handle the incoming message, e.g., update the conversation with the new message
  };
</script>


{% endblock %}
